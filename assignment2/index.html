<!DOCTYPE html>
<html>

<head>

    <title>assignment2</title>

    <link href="https://rachelschmitz.github.io/L-A-458-558/leaflet/leaflet.css" type="text/css" rel="stylesheet">

</head>

<body>

    <div id="map"></div>


    <script src="https://rachelschmitz.github.io/L-A-458-558/leaflet/leaflet.js"></script>
    <script src="https://leafletjs.com/examples/choropleth/us-states.js"></script>



    <script>
        var map = L.map('map').setView([37.8, -96], 4);

        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox/streets-v11',
            accessToken: 'pk.eyJ1IjoicmFjaGVsc2NobWl0eiIsImEiOiJjazZzbmFxajcwaW5tM2Vyem9mbDl3M2QzIn0.BbIzDBMGcsv3Y3KolAmzhg'
        }).addTo(map);
        var info = L.control();

        info.onAdd = function(map) {
            this._div = L.DomUtil.create("div", "info");
            this.update();
            return this._div;
        };

        info.update = function(props) {
            this._div.innerHTML =
                "<h4>US Population Density</h4>" +
                (props ?
                    "<b>" +
                    props.name +
                    "</b><br />" +
                    props.density +
                    " people / mi<sup>2</sup>" :
                    "Hover over a state");
        };

        info.addTo(map);

        function getColor(d) {
            return d > 1000 ?
                "#016450" :
                d > 500 ?
                "#016c59" :
                d > 200 ?
                "#1c9099" :
                d > 100 ?
                "#67a9cf" :
                d > 50 ?
                "#a6bddb" :
                d > 20 ? "#d0d1e6" :
                d > 10 ? "#f6eff7" : "#fff7fb";
        }

        function style(feature) {
            return {
                weight: 2,
                opacity: 1,
                color: "white",
                dashArray: "3",
                fillOpacity: 0.7,
                fillColor: getColor(feature.properties.density)
            };
        }

        function highlightFeature(e) {
            var layer = e.target;

            layer.setStyle({
                weight: 5,
                color: "#666",
                dashArray: "",
                fillOpacity: 0.7
            });

            if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                layer.bringToFront();
            }

            info.update(layer.feature.properties);
        }

        var geojson;

        function resetHighlight(e) {
            geojson.resetStyle(e.target);
            info.update();
        }

        function zoomToFeature(e) {
            map.fitBounds(e.target.getBounds());
        }

        function onEachFeature(feature, layer) {
            layer.on({
                mouseover: highlightFeature,
                mouseout: resetHighlight,
                click: zoomToFeature
            });
        }

        geojson = L.geoJson(statesData, {
            style: style,
            onEachFeature: onEachFeature
        }).addTo(map);

        map.attributionControl.addAttribution(
            'Population data &copy; <a href="http://census.gov/">US Census Bureau</a>'
        );


        var legend = L.control({
            position: "bottomright"
        });

        legend.onAdd = function(map) {
            var div = L.DomUtil.create("div", "info legend"),
                grades = [0, 10, 20, 50, 100, 200, 500, 1000],
                labels = [""],
                from,
                to;

            for (var i = 0; i < grades.length; i++) {
                from = grades[i];
                to = grades[i + 1];

                labels.push(
                    '<i style="background:' +
                    getColor(from + 1) +
                    '"></i> ' +
                    from +
                    (to ? "&ndash;" + to : "+")
                );
            }

            div.innerHTML = labels.join("<br>");
            return div;
        };

        legend.addTo(map);

    </script>


    <script>
        function getColor(d) {
            return d > 500000 ?
                "#b10026" :
                d > 400000 ?
                "#e31a1c" :
                d > 300000 ?
                "#fc4e2a" :
                d > 200000 ?
                "#fd8d3c" :
                d > 100000 ?
                "#feb24c" :
                d > 50000 ? "#fed976" :
                d > 25000 ? "#ffeda0" : "##ffffcc";
        }

        function style(feature) {
            return {
                weight: 2,
                opacity: 1,
                color: "white",
                dashArray: "3",
                fillOpacity: 0.9,
                fillColor: getColor(feature.properties.pop)
            };
        }

        function highlightFeature(e) {
            var layer = e.target;

            layer.setStyle({
                weight: 5,
                color: "#666",
                dashArray: "",
                fillOpacity: 0.5
            });

            if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                layer.bringToFront();
            }

            info.update(layer.feature.properties);
        }

        var geojson;

        function resetHighlight(e) {
            geojson.resetStyle(e.target);
            info.update();
        }

        function zoomToFeature(e) {
            map.fitBounds(e.target.getBounds());
        }

        function onEachFeature(feature, layer) {
            layer.on({
                mouseover: highlightFeature,
                mouseout: resetHighlight,
                click: zoomToFeature
            });
        }

        geojson = L.geoJson(citiesData, {
            style: style,
            onEachFeature: onEachFeature
        }).addTo(map);

        map.attributionControl.addAttribution(
            'Population data &copy; <a href="http://census.gov/">US Census Bureau</a>'
        );


        var legend = L.control({
            position: "bottomleft"
        });

        legend.onAdd = function(map) {
            var div = L.DomUtil.create("div", "info legend"),
                grades = [0, 25000, 50000, 100000, 200000, 300000, 400000, 500000],
                labels = [""],


                for (var i = 0; i < grades.length; i++) {
                    from = grades[i];
                    to = grades[i + 1];

                    labels.push(
                        '<i style="background:' +
                        getColor(from + 1) +
                        '"></i> ' +
                        from +
                        (to ? "&ndash;" + to : "+")
                    );
                }

            div.innerHTML = labels.join("<br>");
            return div;
        };

        legend.addTo(map);

    </script>


</body>

</html>
